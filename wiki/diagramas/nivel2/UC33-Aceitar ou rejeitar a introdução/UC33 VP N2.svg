<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="949px" preserveAspectRatio="none" style="width:894px;height:949px;background:#FFFFFF;" version="1.1" viewBox="0 0 894 949" width="894px" zoomAndPan="magnify"><defs><filter height="300%" id="f1p7o6ahwiia63" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#f1p7o6ahwiia63)" height="668.5156" style="stroke:#A80036;stroke-width:1.0;" width="10" x="28.5" y="186.0156"/><rect fill="#FFFFFF" filter="url(#f1p7o6ahwiia63)" height="91.0547" style="stroke:#A80036;stroke-width:1.0;" width="10" x="340.5" y="186.0156"/><rect fill="#FFFFFF" filter="url(#f1p7o6ahwiia63)" height="73.7031" style="stroke:#A80036;stroke-width:1.0;" width="10" x="340.5" y="307.4219"/><rect fill="#FFFFFF" filter="url(#f1p7o6ahwiia63)" height="434.0547" style="stroke:#A80036;stroke-width:1.0;" width="10" x="340.5" y="411.4766"/><rect fill="#FFFFFF" filter="url(#f1p7o6ahwiia63)" height="30.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="626.5" y="216.3672"/><rect fill="#FFFFFF" filter="url(#f1p7o6ahwiia63)" height="73.7031" style="stroke:#A80036;stroke-width:1.0;" width="10" x="626.5" y="467.1797"/><rect fill="#FFFFFF" filter="url(#f1p7o6ahwiia63)" height="117.0547" style="stroke:#A80036;stroke-width:1.0;" width="10" x="626.5" y="571.2344"/><rect fill="#FFFFFF" filter="url(#f1p7o6ahwiia63)" height="73.7031" style="stroke:#A80036;stroke-width:1.0;" width="10" x="626.5" y="734.4766"/><rect fill="#FFFFFF" filter="url(#f1p7o6ahwiia63)" height="389.7031" style="stroke:#000000;stroke-width:2.0;" width="612" x="268.5" y="426.4766"/><rect fill="#FFFFFF" height="119.8906" style="stroke:none;stroke-width:1.0;" width="612" x="268.5" y="696.2891"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="33" x2="33" y1="89.6094" y2="863.5313"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="345.5" x2="345.5" y1="89.6094" y2="863.5313"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="631.5" x2="631.5" y1="89.6094" y2="863.5313"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="51" x="5" y="86.5332">Jogador</text><ellipse cx="33.5" cy="15" fill="#FEFECE" filter="url(#f1p7o6ahwiia63)" rx="8" ry="8" style="stroke:#A80036;stroke-width:2.0;"/><path d="M33.5,23 L33.5,50 M20.5,31 L46.5,31 M33.5,50 L20.5,65 M33.5,50 L46.5,65 " fill="none" filter="url(#f1p7o6ahwiia63)" style="stroke:#A80036;stroke-width:2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="51" x="5" y="877.0645">Jogador</text><ellipse cx="33.5" cy="890.1406" fill="#FEFECE" filter="url(#f1p7o6ahwiia63)" rx="8" ry="8" style="stroke:#A80036;stroke-width:2.0;"/><path d="M33.5,898.1406 L33.5,925.1406 M20.5,906.1406 L46.5,906.1406 M33.5,925.1406 L20.5,940.1406 M33.5,925.1406 L46.5,940.1406 " fill="none" filter="url(#f1p7o6ahwiia63)" style="stroke:#A80036;stroke-width:2.0;"/><rect fill="#FEFECE" filter="url(#f1p7o6ahwiia63)" height="49.2188" style="stroke:#A80036;stroke-width:1.5;" width="130" x="278.5" y="35.3906"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="116" x="285.5" y="56.9238">&lt;&lt;C4:Container&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="82" x="302.5" y="74.5332">:Visualização</text><rect fill="#FEFECE" filter="url(#f1p7o6ahwiia63)" height="49.2188" style="stroke:#A80036;stroke-width:1.5;" width="130" x="278.5" y="862.5313"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="116" x="285.5" y="884.0645">&lt;&lt;C4:Container&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="82" x="302.5" y="901.6738">:Visualização</text><rect fill="#FEFECE" filter="url(#f1p7o6ahwiia63)" height="49.2188" style="stroke:#A80036;stroke-width:1.5;" width="130" x="564.5" y="35.3906"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="116" x="571.5" y="56.9238">&lt;&lt;C4:Container&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="80" x="589.5" y="74.5332">:Rede Social</text><rect fill="#FEFECE" filter="url(#f1p7o6ahwiia63)" height="49.2188" style="stroke:#A80036;stroke-width:1.5;" width="130" x="564.5" y="862.5313"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="116" x="571.5" y="884.0645">&lt;&lt;C4:Container&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="80" x="589.5" y="901.6738">:Rede Social</text><rect fill="#FFFFFF" filter="url(#f1p7o6ahwiia63)" height="668.5156" style="stroke:#A80036;stroke-width:1.0;" width="10" x="28.5" y="186.0156"/><rect fill="#FFFFFF" filter="url(#f1p7o6ahwiia63)" height="91.0547" style="stroke:#A80036;stroke-width:1.0;" width="10" x="340.5" y="186.0156"/><rect fill="#FFFFFF" filter="url(#f1p7o6ahwiia63)" height="73.7031" style="stroke:#A80036;stroke-width:1.0;" width="10" x="340.5" y="307.4219"/><rect fill="#FFFFFF" filter="url(#f1p7o6ahwiia63)" height="434.0547" style="stroke:#A80036;stroke-width:1.0;" width="10" x="340.5" y="411.4766"/><rect fill="#FFFFFF" filter="url(#f1p7o6ahwiia63)" height="30.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="626.5" y="216.3672"/><rect fill="#FFFFFF" filter="url(#f1p7o6ahwiia63)" height="73.7031" style="stroke:#A80036;stroke-width:1.0;" width="10" x="626.5" y="467.1797"/><rect fill="#FFFFFF" filter="url(#f1p7o6ahwiia63)" height="117.0547" style="stroke:#A80036;stroke-width:1.0;" width="10" x="626.5" y="571.2344"/><rect fill="#FFFFFF" filter="url(#f1p7o6ahwiia63)" height="73.7031" style="stroke:#A80036;stroke-width:1.0;" width="10" x="626.5" y="734.4766"/><rect fill="#FFFFFF" filter="url(#f1p7o6ahwiia63)" height="59.0547" style="stroke:#000000;stroke-width:2.0;" width="180" x="275.5" y="99.6094"/><path d="M275.5,99.6094 L337.5,99.6094 L337.5,107.6094 L327.5,117.6094 L275.5,117.6094 L275.5,99.6094 " fill="#EEEEEE" style="stroke:#000000;stroke-width:2.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17" x="288.5" y="115.1045">ref</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="168" x="281.5" y="135.1045">UC35 - obter lista de pedidos</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="123" x="281.5" y="151.4561">de ligação pendentes</text><polygon fill="#A80036" points="328.5,182.0156,338.5,186.0156,328.5,190.0156,332.5,186.0156" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="38.5" x2="334.5" y1="186.0156" y2="186.0156"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="45.5" y="181.1592">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="277" x="56.5" y="181.1592">Seleciona pedido de ligação para tomar decisão</text><polygon fill="#A80036" points="614.5,212.3672,624.5,216.3672,614.5,220.3672,618.5,216.3672" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="350.5" x2="620.5" y1="216.3672" y2="216.3672"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="357.5" y="211.5107">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="142" x="368.5" y="211.5107">GET pedidosLigacao/{id}</text><polygon fill="#A80036" points="361.5,242.7188,351.5,246.7188,361.5,250.7188,357.5,246.7188" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="355.5" x2="630.5" y1="246.7188" y2="246.7188"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="367.5" y="241.8623">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="129" x="378.5" y="241.8623">pedidoLigacao (JSON)</text><polygon fill="#A80036" points="49.5,273.0703,39.5,277.0703,49.5,281.0703,45.5,277.0703" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="43.5" x2="344.5" y1="277.0703" y2="277.0703"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="55.5" y="272.2139">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="164" x="66.5" y="272.2139">Solicita que aceite ou rejeite</text><polygon fill="#A80036" points="328.5,303.4219,338.5,307.4219,328.5,311.4219,332.5,307.4219" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="38.5" x2="334.5" y1="307.4219" y2="307.4219"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="45.5" y="302.5654">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="92" x="56.5" y="302.5654">Toma a decisão</text><line style="stroke:#A80036;stroke-width:1.0;" x1="350.5" x2="392.5" y1="337.7734" y2="337.7734"/><line style="stroke:#A80036;stroke-width:1.0;" x1="392.5" x2="392.5" y1="337.7734" y2="350.7734"/><line style="stroke:#A80036;stroke-width:1.0;" x1="351.5" x2="392.5" y1="350.7734" y2="350.7734"/><polygon fill="#A80036" points="361.5,346.7734,351.5,350.7734,361.5,354.7734,357.5,350.7734" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="357.5" y="332.917">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="251" x="368.5" y="332.917">localDataValidation(decisao,pedidoLigacao)</text><polygon fill="#A80036" points="49.5,377.125,39.5,381.125,49.5,385.125,45.5,381.125" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="43.5" x2="344.5" y1="381.125" y2="381.125"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="55.5" y="376.2686">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="184" x="66.5" y="376.2686">Solicita confirmação da decisão</text><polygon fill="#A80036" points="328.5,407.4766,338.5,411.4766,328.5,415.4766,332.5,411.4766" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="38.5" x2="334.5" y1="411.4766" y2="411.4766"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="45.5" y="406.6201">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="100" x="56.5" y="406.6201">Confirma decisão</text><path d="M268.5,426.4766 L329.5,426.4766 L329.5,434.4766 L319.5,444.4766 L268.5,444.4766 L268.5,426.4766 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="389.7031" style="stroke:#000000;stroke-width:2.0;" width="612" x="268.5" y="426.4766"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="16" x="283.5" y="440.9717">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="196" x="344.5" y="439.8955">[se for aceite, é criada uma relação]</text><polygon fill="#A80036" points="614.5,463.1797,624.5,467.1797,614.5,471.1797,618.5,467.1797" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="350.5" x2="620.5" y1="467.1797" y2="467.1797"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="357.5" y="462.3232">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="201" x="368.5" y="462.3232">DELETE pedidoLigacao/{utilizador}</text><line style="stroke:#A80036;stroke-width:1.0;" x1="636.5" x2="678.5" y1="497.5313" y2="497.5313"/><line style="stroke:#A80036;stroke-width:1.0;" x1="678.5" x2="678.5" y1="497.5313" y2="510.5313"/><line style="stroke:#A80036;stroke-width:1.0;" x1="637.5" x2="678.5" y1="510.5313" y2="510.5313"/><polygon fill="#A80036" points="647.5,506.5313,637.5,510.5313,647.5,514.5313,643.5,510.5313" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="643.5" y="492.6748">10</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="126" x="661.5" y="492.6748">delete(pedidoLigacao)</text><polygon fill="#A80036" points="361.5,536.8828,351.5,540.8828,361.5,544.8828,357.5,540.8828" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="355.5" x2="630.5" y1="540.8828" y2="540.8828"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="367.5" y="536.0264">11</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="44" x="385.5" y="536.0264">202 OK</text><polygon fill="#A80036" points="614.5,567.2344,624.5,571.2344,614.5,575.2344,618.5,571.2344" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="350.5" x2="620.5" y1="571.2344" y2="571.2344"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="357.5" y="566.3779">12</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="230" x="375.5" y="566.3779">POST relacao/{utilizador} dados-relacao</text><line style="stroke:#A80036;stroke-width:1.0;" x1="636.5" x2="678.5" y1="601.5859" y2="601.5859"/><line style="stroke:#A80036;stroke-width:1.0;" x1="678.5" x2="678.5" y1="601.5859" y2="614.5859"/><line style="stroke:#A80036;stroke-width:1.0;" x1="637.5" x2="678.5" y1="614.5859" y2="614.5859"/><polygon fill="#A80036" points="647.5,610.5859,637.5,614.5859,647.5,618.5859,643.5,614.5859" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="643.5" y="596.7295">13</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="207" x="661.5" y="596.7295">serverDataValidation(dados,relacao)</text><line style="stroke:#A80036;stroke-width:1.0;" x1="636.5" x2="678.5" y1="644.9375" y2="644.9375"/><line style="stroke:#A80036;stroke-width:1.0;" x1="678.5" x2="678.5" y1="644.9375" y2="657.9375"/><line style="stroke:#A80036;stroke-width:1.0;" x1="637.5" x2="678.5" y1="657.9375" y2="657.9375"/><polygon fill="#A80036" points="647.5,653.9375,637.5,657.9375,647.5,661.9375,643.5,657.9375" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="643.5" y="640.0811">14</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="142" x="661.5" y="640.0811">saveData(dados,relacao)</text><polygon fill="#A80036" points="361.5,684.2891,351.5,688.2891,361.5,692.2891,357.5,688.2891" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="355.5" x2="630.5" y1="688.2891" y2="688.2891"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="367.5" y="683.4326">15</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="44" x="385.5" y="683.4326">202 OK</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="268.5" x2="880.5" y1="697.2891" y2="697.2891"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="208" x="273.5" y="708.708">[se for rejeitado, não é criada relação]</text><polygon fill="#A80036" points="614.5,730.4766,624.5,734.4766,614.5,738.4766,618.5,734.4766" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="350.5" x2="620.5" y1="734.4766" y2="734.4766"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="357.5" y="729.6201">16</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="201" x="375.5" y="729.6201">DELETE pedidoLigacao/{utilizador}</text><line style="stroke:#A80036;stroke-width:1.0;" x1="636.5" x2="678.5" y1="764.8281" y2="764.8281"/><line style="stroke:#A80036;stroke-width:1.0;" x1="678.5" x2="678.5" y1="764.8281" y2="777.8281"/><line style="stroke:#A80036;stroke-width:1.0;" x1="637.5" x2="678.5" y1="777.8281" y2="777.8281"/><polygon fill="#A80036" points="647.5,773.8281,637.5,777.8281,647.5,781.8281,643.5,777.8281" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="643.5" y="759.9717">17</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="126" x="661.5" y="759.9717">delete(pedidoLigacao)</text><polygon fill="#A80036" points="361.5,804.1797,351.5,808.1797,361.5,812.1797,357.5,808.1797" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="355.5" x2="630.5" y1="808.1797" y2="808.1797"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="367.5" y="803.3232">18</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="44" x="385.5" y="803.3232">202 OK</text><polygon fill="#A80036" points="49.5,841.5313,39.5,845.5313,49.5,849.5313,45.5,845.5313" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="43.5" x2="344.5" y1="845.5313" y2="845.5313"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="55.5" y="840.6748">19</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="51" x="73.5" y="840.6748">Confirma</text><!--MD5=[814431fcd08a9c7d573e5955f9861318]
@startuml
autonumber

actor "Jogador" as USER
participant "<<C4:Container>>\n:Visualização" as V
participant "<<C4:Container>>\n:Rede Social" as S

ref over V : UC35 - obter lista de pedidos \nde ligação pendentes

USER -> V : Seleciona pedido de ligação para tomar decisão
activate USER
activate V
V -> S: GET pedidosLigacao/{id}
activate S
S - -> V: pedidoLigacao (JSON)
deactivate S
V - -> USER : Solicita que aceite ou rejeite
deactivate V

USER -> V : Toma a decisão
activate V
V -> V: localDataValidation(decisao,pedidoLigacao)

V - -> USER : Solicita confirmação da decisão
deactivate V

USER -> V : Confirma decisão
activate V
alt se for aceite, é criada uma relação
V -> S: DELETE pedidoLigacao/{utilizador} 
activate S
S->S: delete(pedidoLigacao)
S - -> V : 202 OK
deactivate S
V -> S: POST relacao/{utilizador} dados-relacao
activate S

S->S: serverDataValidation(dados,relacao)
S->S: saveData(dados,relacao)
S - -> V : 202 OK
deactivate S
else se for rejeitado, não é criada relação
V -> S: DELETE pedidoLigacao/{utilizador} 
activate S
S->S: delete(pedidoLigacao)
S - -> V : 202 OK
deactivate S
end alt

V - -> USER : Confirma
deactivate V

@enduml

PlantUML version 1.2021.11(Sat Oct 02 14:26:11 BST 2021)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: Dynamic Code Evolution 64-Bit Server VM
Default Encoding: Cp1252
Language: pt
Country: PT
--></g></svg>