<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1129px" preserveAspectRatio="none" style="width:3507px;height:1129px;background:#FFFFFF;" version="1.1" viewBox="0 0 3507 1129" width="3507px" zoomAndPan="magnify"><defs><filter height="300%" id="fgtwowlljhbvg" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#fgtwowlljhbvg)" height="992.9453" style="stroke:#A80036;stroke-width:1.0;" width="10" x="211" y="73.9609"/><rect fill="#FFFFFF" filter="url(#fgtwowlljhbvg)" height="932.2422" style="stroke:#A80036;stroke-width:1.0;" width="10" x="398" y="104.3125"/><rect fill="#FFFFFF" filter="url(#fgtwowlljhbvg)" height="398.5469" style="stroke:#A80036;stroke-width:1.0;" width="10" x="585" y="134.6641"/><rect fill="#FFFFFF" filter="url(#fgtwowlljhbvg)" height="198.0156" style="stroke:#A80036;stroke-width:1.0;" width="10" x="943.5" y="211.625"/><rect fill="#FFFFFF" filter="url(#fgtwowlljhbvg)" height="30.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1135.5" y="241.9766"/><rect fill="#FFFFFF" filter="url(#fgtwowlljhbvg)" height="30.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1135.5" y="379.2891"/><rect fill="#FFFFFF" filter="url(#fgtwowlljhbvg)" height="30.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1135.5" y="456.25"/><rect fill="#FFFFFF" filter="url(#fgtwowlljhbvg)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1647" y="318.9375"/><rect fill="#FFFFFF" filter="url(#fgtwowlljhbvg)" height="442.6406" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2292" y="563.5625"/><rect fill="#FFFFFF" filter="url(#fgtwowlljhbvg)" height="60.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2496.5" y="593.9141"/><rect fill="#FFFFFF" filter="url(#fgtwowlljhbvg)" height="198.0156" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2496.5" y="684.6172"/><rect fill="#FFFFFF" filter="url(#fgtwowlljhbvg)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2656.5" y="624.2656"/><rect fill="#FFFFFF" filter="url(#fgtwowlljhbvg)" height="30.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2656.5" y="714.9688"/><rect fill="#FFFFFF" filter="url(#fgtwowlljhbvg)" height="30.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2656.5" y="852.2813"/><rect fill="#FFFFFF" filter="url(#fgtwowlljhbvg)" height="30.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2656.5" y="929.2422"/><rect fill="#FFFFFF" filter="url(#fgtwowlljhbvg)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="3064.5" y="791.9297"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="215.5" x2="215.5" y1="41.6094" y2="1084.9063"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="402.5" x2="402.5" y1="41.6094" y2="1084.9063"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="590" x2="590" y1="41.6094" y2="1084.9063"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="774" x2="774" y1="175.9688" y2="1084.9063"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="948" x2="948" y1="41.6094" y2="1084.9063"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1140.5" x2="1140.5" y1="41.6094" y2="1084.9063"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1356.5" x2="1356.5" y1="283.2813" y2="1084.9063"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1651.5" x2="1651.5" y1="41.6094" y2="1084.9063"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1913.5" x2="1913.5" y1="420.5938" y2="1084.9063"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="2130.5" x2="2130.5" y1="497.5547" y2="1084.9063"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="2296.5" x2="2296.5" y1="41.6094" y2="1084.9063"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="2393.5" x2="2393.5" y1="41.6094" y2="1084.9063"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="2501.5" x2="2501.5" y1="41.6094" y2="1084.9063"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="2661" x2="2661" y1="41.6094" y2="1084.9063"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="2840.5" x2="2840.5" y1="756.2734" y2="1084.9063"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="3069.5" x2="3069.5" y1="41.6094" y2="1084.9063"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="3263.5" x2="3263.5" y1="893.5859" y2="1084.9063"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="3412.5" x2="3412.5" y1="970.5469" y2="1084.9063"/><rect fill="#FEFECE" filter="url(#fgtwowlljhbvg)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="129" x="149.5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="115" x="156.5" y="26.5332">:ComentarioRoute</text><rect fill="#FEFECE" filter="url(#fgtwowlljhbvg)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="129" x="149.5" y="1083.9063"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="115" x="156.5" y="1105.4395">:ComentarioRoute</text><rect fill="#FEFECE" filter="url(#fgtwowlljhbvg)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="153" x="324.5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="139" x="331.5" y="26.5332">:ComentarioController</text><rect fill="#FEFECE" filter="url(#fgtwowlljhbvg)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="153" x="324.5" y="1083.9063"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="139" x="331.5" y="1105.4395">:ComentarioController</text><rect fill="#FEFECE" filter="url(#fgtwowlljhbvg)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="138" x="519" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="124" x="526" y="26.5332">:ComentarioService</text><rect fill="#FEFECE" filter="url(#fgtwowlljhbvg)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="138" x="519" y="1083.9063"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="124" x="526" y="1105.4395">:ComentarioService</text><rect fill="#FEFECE" filter="url(#fgtwowlljhbvg)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="161" x="692" y="1083.9063"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="147" x="699" y="1105.4395">comentario:Comentario</text><rect fill="#FEFECE" filter="url(#fgtwowlljhbvg)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="159" x="867" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="145" x="874" y="26.5332">:ComentarioRepository</text><rect fill="#FEFECE" filter="url(#fgtwowlljhbvg)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="159" x="867" y="1083.9063"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="145" x="874" y="1105.4395">:ComentarioRepository</text><rect fill="#FEFECE" filter="url(#fgtwowlljhbvg)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="118" x="1079.5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="104" x="1086.5" y="26.5332">:ComentarioMap</text><rect fill="#FEFECE" filter="url(#fgtwowlljhbvg)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="118" x="1079.5" y="1083.9063"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="104" x="1086.5" y="1105.4395">:ComentarioMap</text><rect fill="#FEFECE" filter="url(#fgtwowlljhbvg)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="260" x="1224.5" y="1083.9063"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="246" x="1231.5" y="1105.4395">comentarioPer:IComentarioPersistence</text><rect fill="#FEFECE" filter="url(#fgtwowlljhbvg)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="303" x="1498.5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="289" x="1505.5" y="26.5332">:Model&lt;IComentarioPersistence &amp; Document&gt;</text><rect fill="#FEFECE" filter="url(#fgtwowlljhbvg)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="303" x="1498.5" y="1083.9063"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="289" x="1505.5" y="1105.4395">:Model&lt;IComentarioPersistence &amp; Document&gt;</text><rect fill="#FEFECE" filter="url(#fgtwowlljhbvg)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="193" x="1815.5" y="1083.9063"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="179" x="1822.5" y="1105.4395">newComentario: Comentario</text><rect fill="#FEFECE" filter="url(#fgtwowlljhbvg)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="212" x="2022.5" y="1083.9063"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="198" x="2029.5" y="1105.4395">newComDTO: IComentarioDTO</text><rect fill="#FEFECE" filter="url(#fgtwowlljhbvg)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="93" x="2248.5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="79" x="2255.5" y="26.5332">:PostService</text><rect fill="#FEFECE" filter="url(#fgtwowlljhbvg)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="93" x="2248.5" y="1083.9063"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="79" x="2255.5" y="1105.4395">:PostService</text><rect fill="#FEFECE" filter="url(#fgtwowlljhbvg)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="73" x="2355.5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="59" x="2362.5" y="26.5332">post:Post</text><rect fill="#FEFECE" filter="url(#fgtwowlljhbvg)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="73" x="2355.5" y="1083.9063"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="59" x="2362.5" y="1105.4395">post:Post</text><rect fill="#FEFECE" filter="url(#fgtwowlljhbvg)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="114" x="2442.5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="100" x="2449.5" y="26.5332">:PostRepository</text><rect fill="#FEFECE" filter="url(#fgtwowlljhbvg)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="114" x="2442.5" y="1083.9063"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="100" x="2449.5" y="1105.4395">:PostRepository</text><rect fill="#FEFECE" filter="url(#fgtwowlljhbvg)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="73" x="2623" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="59" x="2630" y="26.5332">:PostMap</text><rect fill="#FEFECE" filter="url(#fgtwowlljhbvg)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="73" x="2623" y="1083.9063"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="59" x="2630" y="1105.4395">:PostMap</text><rect fill="#FEFECE" filter="url(#fgtwowlljhbvg)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="172" x="2752.5" y="1083.9063"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="158" x="2759.5" y="1105.4395">postPer:IPostPersistence</text><rect fill="#FEFECE" filter="url(#fgtwowlljhbvg)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="258" x="2938.5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="244" x="2945.5" y="26.5332">:Model&lt;IPostPersistence &amp; Document&gt;</text><rect fill="#FEFECE" filter="url(#fgtwowlljhbvg)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="258" x="2938.5" y="1083.9063"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="244" x="2945.5" y="1105.4395">:Model&lt;IPostPersistence &amp; Document&gt;</text><rect fill="#FEFECE" filter="url(#fgtwowlljhbvg)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="103" x="3210.5" y="1083.9063"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="89" x="3217.5" y="1105.4395">newPost: Post</text><rect fill="#FEFECE" filter="url(#fgtwowlljhbvg)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="166" x="3327.5" y="1083.9063"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="152" x="3334.5" y="1105.4395">newPostDTO: IPostDTO</text><rect fill="#FFFFFF" filter="url(#fgtwowlljhbvg)" height="992.9453" style="stroke:#A80036;stroke-width:1.0;" width="10" x="211" y="73.9609"/><rect fill="#FFFFFF" filter="url(#fgtwowlljhbvg)" height="932.2422" style="stroke:#A80036;stroke-width:1.0;" width="10" x="398" y="104.3125"/><rect fill="#FFFFFF" filter="url(#fgtwowlljhbvg)" height="398.5469" style="stroke:#A80036;stroke-width:1.0;" width="10" x="585" y="134.6641"/><rect fill="#FFFFFF" filter="url(#fgtwowlljhbvg)" height="198.0156" style="stroke:#A80036;stroke-width:1.0;" width="10" x="943.5" y="211.625"/><rect fill="#FFFFFF" filter="url(#fgtwowlljhbvg)" height="30.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1135.5" y="241.9766"/><rect fill="#FFFFFF" filter="url(#fgtwowlljhbvg)" height="30.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1135.5" y="379.2891"/><rect fill="#FFFFFF" filter="url(#fgtwowlljhbvg)" height="30.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1135.5" y="456.25"/><rect fill="#FFFFFF" filter="url(#fgtwowlljhbvg)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1647" y="318.9375"/><rect fill="#FFFFFF" filter="url(#fgtwowlljhbvg)" height="442.6406" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2292" y="563.5625"/><rect fill="#FFFFFF" filter="url(#fgtwowlljhbvg)" height="60.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2496.5" y="593.9141"/><rect fill="#FFFFFF" filter="url(#fgtwowlljhbvg)" height="198.0156" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2496.5" y="684.6172"/><rect fill="#FFFFFF" filter="url(#fgtwowlljhbvg)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2656.5" y="624.2656"/><rect fill="#FFFFFF" filter="url(#fgtwowlljhbvg)" height="30.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2656.5" y="714.9688"/><rect fill="#FFFFFF" filter="url(#fgtwowlljhbvg)" height="30.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2656.5" y="852.2813"/><rect fill="#FFFFFF" filter="url(#fgtwowlljhbvg)" height="30.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2656.5" y="929.2422"/><rect fill="#FFFFFF" filter="url(#fgtwowlljhbvg)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="3064.5" y="791.9297"/><ellipse cx="4.5" cy="73.2109" rx="4" ry="4" style="stroke:#A80036;stroke-width:1.5;fill:none;"/><polygon fill="#A80036" points="199,69.9609,209,73.9609,199,77.9609,203,73.9609" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="9" x2="205" y1="73.9609" y2="73.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="12" y="69.1045">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="173" x="23" y="69.1045">POST(.../api/comentarios,req)</text><polygon fill="#A80036" points="386,100.3125,396,104.3125,386,108.3125,390,104.3125" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="221" x2="392" y1="104.3125" y2="104.3125"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="228" y="99.4561">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="128" x="239" y="99.4561">createComentario(req)</text><polygon fill="#A80036" points="573,130.6641,583,134.6641,573,138.6641,577,134.6641" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="408" x2="579" y1="134.6641" y2="134.6641"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="415" y="129.8076">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="128" x="426" y="129.8076">createComentario(dto)</text><polygon fill="#A80036" points="680,161.0156,690,165.0156,680,169.0156,684,165.0156" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="595" x2="686" y1="165.0156" y2="165.0156"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="602" y="160.1592">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="62" x="613" y="160.1592">create(dto)</text><rect fill="#FEFECE" filter="url(#fgtwowlljhbvg)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="161" x="692" y="142.6641"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="147" x="699" y="164.1973">comentario:Comentario</text><polygon fill="#A80036" points="931.5,207.625,941.5,211.625,931.5,215.625,935.5,211.625" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="595" x2="937.5" y1="211.625" y2="211.625"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="602" y="206.7686">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="98" x="613" y="206.7686">save(comentario)</text><polygon fill="#A80036" points="1123.5,237.9766,1133.5,241.9766,1123.5,245.9766,1127.5,241.9766" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="953.5" x2="1129.5" y1="241.9766" y2="241.9766"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="960.5" y="237.1201">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="152" x="971.5" y="237.1201">toPersistence(comentario)</text><polygon fill="#A80036" points="1212.5,268.3281,1222.5,272.3281,1212.5,276.3281,1216.5,272.3281" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1140.5" x2="1218.5" y1="272.3281" y2="272.3281"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="1147.5" y="267.4717">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="44" x="1158.5" y="267.4717">create()</text><rect fill="#FEFECE" filter="url(#fgtwowlljhbvg)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="260" x="1224.5" y="249.9766"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="246" x="1231.5" y="271.5098">comentarioPer:IComentarioPersistence</text><polygon fill="#A80036" points="1635,314.9375,1645,318.9375,1635,322.9375,1639,318.9375" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="953.5" x2="1641" y1="318.9375" y2="318.9375"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="960.5" y="314.0811">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="128" x="971.5" y="314.0811">create(comentarioPer)</text><polygon fill="#A80036" points="1123.5,375.2891,1133.5,379.2891,1123.5,383.2891,1127.5,379.2891" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="953.5" x2="1129.5" y1="379.2891" y2="379.2891"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="960.5" y="374.4326">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="147" x="971.5" y="374.4326">toDomain(comentarioPer)</text><polygon fill="#A80036" points="1803.5,405.6406,1813.5,409.6406,1803.5,413.6406,1807.5,409.6406" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1140.5" x2="1809.5" y1="409.6406" y2="409.6406"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1147.5" y="404.7842">10</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="44" x="1165.5" y="404.7842">create()</text><rect fill="#FEFECE" filter="url(#fgtwowlljhbvg)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="193" x="1815.5" y="387.2891"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="179" x="1822.5" y="408.8223">newComentario: Comentario</text><polygon fill="#A80036" points="1123.5,452.25,1133.5,456.25,1123.5,460.25,1127.5,456.25" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="595" x2="1129.5" y1="456.25" y2="456.25"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="602" y="451.3936">11</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="134" x="620" y="451.3936">toDTO(newComentario)</text><polygon fill="#A80036" points="2010.5,482.6016,2020.5,486.6016,2010.5,490.6016,2014.5,486.6016" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1140.5" x2="2016.5" y1="486.6016" y2="486.6016"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1147.5" y="481.7451">12</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="44" x="1165.5" y="481.7451">create()</text><rect fill="#FEFECE" filter="url(#fgtwowlljhbvg)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="212" x="2022.5" y="464.25"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="198" x="2029.5" y="485.7832">newComDTO: IComentarioDTO</text><polygon fill="#A80036" points="419,529.2109,409,533.2109,419,537.2109,415,533.2109" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="413" x2="589" y1="533.2109" y2="533.2109"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="425" y="528.3545">13</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="135" x="443" y="528.3545">Success(newComDTO)</text><polygon fill="#A80036" points="2280,559.5625,2290,563.5625,2280,567.5625,2284,563.5625" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="408" x2="2286" y1="563.5625" y2="563.5625"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="415" y="558.7061">14</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="113" x="433" y="558.7061">addComentario(dto)</text><polygon fill="#A80036" points="2484.5,589.9141,2494.5,593.9141,2484.5,597.9141,2488.5,593.9141" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="2302" x2="2490.5" y1="593.9141" y2="593.9141"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="2309" y="589.0576">15</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="101" x="2327" y="589.0576">findById(dto.post)</text><polygon fill="#A80036" points="2644.5,620.2656,2654.5,624.2656,2644.5,628.2656,2648.5,624.2656" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="2506.5" x2="2650.5" y1="624.2656" y2="624.2656"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="2513.5" y="619.4092">16</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="88" x="2531.5" y="619.4092">toDomain(post)</text><polygon fill="#A80036" points="2484.5,680.6172,2494.5,684.6172,2484.5,688.6172,2488.5,684.6172" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="2302" x2="2490.5" y1="684.6172" y2="684.6172"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="2309" y="679.7607">17</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="59" x="2327" y="679.7607">save(post)</text><polygon fill="#A80036" points="2644.5,710.9688,2654.5,714.9688,2644.5,718.9688,2648.5,714.9688" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="2506.5" x2="2650.5" y1="714.9688" y2="714.9688"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="2513.5" y="710.1123">18</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="113" x="2531.5" y="710.1123">toPersistence(post)</text><polygon fill="#A80036" points="2740.5,741.3203,2750.5,745.3203,2740.5,749.3203,2744.5,745.3203" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="2661.5" x2="2746.5" y1="745.3203" y2="745.3203"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="2668.5" y="740.4639">19</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="44" x="2686.5" y="740.4639">create()</text><rect fill="#FEFECE" filter="url(#fgtwowlljhbvg)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="172" x="2752.5" y="722.9688"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="158" x="2759.5" y="744.502">postPer:IPostPersistence</text><polygon fill="#A80036" points="3052.5,787.9297,3062.5,791.9297,3052.5,795.9297,3056.5,791.9297" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="2506.5" x2="3058.5" y1="791.9297" y2="791.9297"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="2513.5" y="787.0732">20</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="89" x="2531.5" y="787.0732">create(postPer)</text><polygon fill="#A80036" points="2644.5,848.2813,2654.5,852.2813,2644.5,856.2813,2648.5,852.2813" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="2506.5" x2="2650.5" y1="852.2813" y2="852.2813"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="2513.5" y="847.4248">21</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="108" x="2531.5" y="847.4248">toDomain(postPer)</text><polygon fill="#A80036" points="3198.5,878.6328,3208.5,882.6328,3198.5,886.6328,3202.5,882.6328" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="2661.5" x2="3204.5" y1="882.6328" y2="882.6328"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="2668.5" y="877.7764">22</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="44" x="2686.5" y="877.7764">create()</text><rect fill="#FEFECE" filter="url(#fgtwowlljhbvg)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="103" x="3210.5" y="860.2813"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="89" x="3217.5" y="881.8145">newPost: Post</text><polygon fill="#A80036" points="2644.5,925.2422,2654.5,929.2422,2644.5,933.2422,2648.5,929.2422" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="2302" x2="2650.5" y1="929.2422" y2="929.2422"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="2309" y="924.3857">23</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="95" x="2327" y="924.3857">toDTO(newPost)</text><polygon fill="#A80036" points="3315.5,955.5938,3325.5,959.5938,3315.5,963.5938,3319.5,959.5938" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="2661.5" x2="3321.5" y1="959.5938" y2="959.5938"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="2668.5" y="954.7373">24</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="44" x="2686.5" y="954.7373">create()</text><rect fill="#FEFECE" filter="url(#fgtwowlljhbvg)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="166" x="3327.5" y="937.2422"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="152" x="3334.5" y="958.7754">newPostDTO: IPostDTO</text><polygon fill="#A80036" points="419,1002.2031,409,1006.2031,419,1010.2031,415,1006.2031" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="413" x2="2296" y1="1006.2031" y2="1006.2031"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="425" y="1001.3467">25</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="135" x="443" y="1001.3467">Success(newPostDTO)</text><polygon fill="#A80036" points="232,1032.5547,222,1036.5547,232,1040.5547,228,1036.5547" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="226" x2="402" y1="1036.5547" y2="1036.5547"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="238" y="1031.6982">26</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="135" x="256" y="1031.6982">Success(newComDTO)</text><polygon fill="#A80036" points="11,1062.9063,1,1066.9063,11,1070.9063,7,1066.9063" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="5" x2="215" y1="1066.9063" y2="1066.9063"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="17" y="1062.0498">27</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="135" x="35" y="1062.0498">Success(newComDTO)</text><!--MD5=[b8ebaadf1ac1fbc0ea7a29f965372d08]
@startuml

autonumber

participant ":ComentarioRoute" as R
participant ":ComentarioController" as CTRL
participant ":ComentarioService" as SERV
participant "comentario:Comentario" as C
participant ":ComentarioRepository" as REPO
participant ":ComentarioMap" as MAP
participant "comentarioPer:IComentarioPersistence" as CP
participant ":Model<IComentarioPersistence & Document>" as MCP
participant "newComentario: Comentario" as NC
participant "newComDTO: IComentarioDTO" as DTO

participant ":PostService" as PSERV
participant "post:Post" as P
participant ":PostRepository" as PREPO
participant ":PostMap" as PMAP
participant "postPer:IPostPersistence" as PP
participant ":Model<IPostPersistence & Document>" as MPP
participant "newPost: Post" as NP
participant "newPostDTO: IPostDTO" as PDTO

?o->R : POST(.../api/comentarios,req)
activate R
    R->CTRL: createComentario(req)
    activate CTRL
        CTRL->SERV: createComentario(dto)
        activate SERV
            SERV-> C**: create(dto)
            SERV-> REPO: save(comentario)
            activate REPO
                REPO->MAP: toPersistence(comentario)
                activate MAP
                    MAP->CP**: create()
                deactivate MAP
                REPO->MCP: create(comentarioPer)
                activate MCP
                deactivate MCP
                REPO->MAP: toDomain(comentarioPer)
                activate MAP
                    MAP->NC**: create()
                deactivate MAP  
            deactivate REPO
            SERV-> MAP: toDTO(newComentario)
            activate MAP
                MAP-> DTO**: create()
            deactivate MAP
            SERV- -> CTRL : Success(newComDTO)
        deactivate SERV
        CTRL->PSERV: addComentario(dto)
        activate PSERV
            PSERV-> PREPO: findById(dto.post)
            activate PREPO                                         
                PREPO->PMAP: toDomain(post)
                activate PMAP
                deactivate PMAP                    
            deactivate PREPO
            PSERV-> PREPO: save(post)
            activate PREPO
                PREPO->PMAP: toPersistence(post)
                activate PMAP
                    PMAP->PP**: create()
                deactivate PMAP
                PREPO->MPP: create(postPer)
                activate MPP
                deactivate MPP
                PREPO->PMAP: toDomain(postPer)
                activate PMAP
                    PMAP->NP**: create()
                deactivate PMAP  
            deactivate PREPO
            PSERV-> PMAP: toDTO(newPost)
            activate PMAP
               PMAP-> PDTO**: create()
            deactivate PMAP
            PSERV- -> CTRL : Success(newPostDTO)
        deactivate PSERV
        CTRL- ->R: Success(newComDTO)
    deactivate CTRL
    <- -R: Success(newComDTO)
deactivate R
@enduml

PlantUML version 1.2021.11(Sat Oct 02 14:26:11 BST 2021)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: Dynamic Code Evolution 64-Bit Server VM
Default Encoding: Cp1252
Language: pt
Country: PT
--></g></svg>