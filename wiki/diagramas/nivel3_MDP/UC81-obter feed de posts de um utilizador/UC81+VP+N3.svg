<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="532px" preserveAspectRatio="none" style="width:1597px;height:532px;background:#FFFFFF;" version="1.1" viewBox="0 0 1597 532" width="1597px" zoomAndPan="magnify"><defs><filter height="300%" id="f1i7v563hqk3g0" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#f1i7v563hqk3g0)" height="396.3828" style="stroke:#A80036;stroke-width:1.0;" width="10" x="163" y="73.9609"/><rect fill="#FFFFFF" filter="url(#f1i7v563hqk3g0)" height="335.6797" style="stroke:#A80036;stroke-width:1.0;" width="10" x="324" y="104.3125"/><rect fill="#FFFFFF" filter="url(#f1i7v563hqk3g0)" height="274.9766" style="stroke:#A80036;stroke-width:1.0;" width="10" x="492" y="134.6641"/><rect fill="#FFFFFF" filter="url(#f1i7v563hqk3g0)" height="121.0547" style="stroke:#A80036;stroke-width:1.0;" width="10" x="696.5" y="165.0156"/><rect fill="#FFFFFF" filter="url(#f1i7v563hqk3g0)" height="30.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="831.5" y="255.7188"/><rect fill="#FFFFFF" filter="url(#f1i7v563hqk3g0)" height="30.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="831.5" y="332.6797"/><rect fill="#FFFFFF" filter="url(#f1i7v563hqk3g0)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1197" y="195.3672"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="168" x2="168" y1="41.6094" y2="488.3438"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="329" x2="329" y1="41.6094" y2="488.3438"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="496.5" x2="496.5" y1="41.6094" y2="488.3438"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="593.5" x2="593.5" y1="41.6094" y2="488.3438"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="701.5" x2="701.5" y1="41.6094" y2="488.3438"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="836" x2="836" y1="41.6094" y2="488.3438"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="973" x2="973" y1="41.6094" y2="488.3438"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1202" x2="1202" y1="41.6094" y2="488.3438"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1396" x2="1396" y1="297.0234" y2="488.3438"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1523" x2="1523" y1="373.9844" y2="488.3438"/><rect fill="#FEFECE" filter="url(#f1i7v563hqk3g0)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="84" x="124" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="70" x="131" y="26.5332">:PostRoute</text><rect fill="#FEFECE" filter="url(#f1i7v563hqk3g0)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="84" x="124" y="487.3438"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="70" x="131" y="508.877">:PostRoute</text><rect fill="#FEFECE" filter="url(#f1i7v563hqk3g0)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="108" x="273" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="94" x="280" y="26.5332">:PostController</text><rect fill="#FEFECE" filter="url(#f1i7v563hqk3g0)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="108" x="273" y="487.3438"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="94" x="280" y="508.877">:PostController</text><rect fill="#FEFECE" filter="url(#f1i7v563hqk3g0)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="93" x="448.5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="79" x="455.5" y="26.5332">:PostService</text><rect fill="#FEFECE" filter="url(#f1i7v563hqk3g0)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="93" x="448.5" y="487.3438"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="79" x="455.5" y="508.877">:PostService</text><rect fill="#FEFECE" filter="url(#f1i7v563hqk3g0)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="73" x="555.5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="59" x="562.5" y="26.5332">post:Post</text><rect fill="#FEFECE" filter="url(#f1i7v563hqk3g0)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="73" x="555.5" y="487.3438"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="59" x="562.5" y="508.877">post:Post</text><rect fill="#FEFECE" filter="url(#f1i7v563hqk3g0)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="114" x="642.5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="100" x="649.5" y="26.5332">:PostRepository</text><rect fill="#FEFECE" filter="url(#f1i7v563hqk3g0)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="114" x="642.5" y="487.3438"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="100" x="649.5" y="508.877">:PostRepository</text><rect fill="#FEFECE" filter="url(#f1i7v563hqk3g0)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="73" x="798" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="59" x="805" y="26.5332">:PostMap</text><rect fill="#FEFECE" filter="url(#f1i7v563hqk3g0)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="73" x="798" y="487.3438"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="59" x="805" y="508.877">:PostMap</text><rect fill="#FEFECE" filter="url(#f1i7v563hqk3g0)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="172" x="885" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="158" x="892" y="26.5332">postPer:IPostPersistence</text><rect fill="#FEFECE" filter="url(#f1i7v563hqk3g0)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="172" x="885" y="487.3438"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="158" x="892" y="508.877">postPer:IPostPersistence</text><rect fill="#FEFECE" filter="url(#f1i7v563hqk3g0)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="258" x="1071" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="244" x="1078" y="26.5332">:Model&lt;IPostPersistence &amp; Document&gt;</text><rect fill="#FEFECE" filter="url(#f1i7v563hqk3g0)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="258" x="1071" y="487.3438"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="244" x="1078" y="508.877">:Model&lt;IPostPersistence &amp; Document&gt;</text><rect fill="#FEFECE" filter="url(#f1i7v563hqk3g0)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="103" x="1343" y="487.3438"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="89" x="1350" y="508.877">newPost: Post</text><rect fill="#FEFECE" filter="url(#f1i7v563hqk3g0)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="123" x="1460" y="487.3438"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="109" x="1467" y="508.877">feed: IPostDTO[ ]</text><rect fill="#FFFFFF" filter="url(#f1i7v563hqk3g0)" height="396.3828" style="stroke:#A80036;stroke-width:1.0;" width="10" x="163" y="73.9609"/><rect fill="#FFFFFF" filter="url(#f1i7v563hqk3g0)" height="335.6797" style="stroke:#A80036;stroke-width:1.0;" width="10" x="324" y="104.3125"/><rect fill="#FFFFFF" filter="url(#f1i7v563hqk3g0)" height="274.9766" style="stroke:#A80036;stroke-width:1.0;" width="10" x="492" y="134.6641"/><rect fill="#FFFFFF" filter="url(#f1i7v563hqk3g0)" height="121.0547" style="stroke:#A80036;stroke-width:1.0;" width="10" x="696.5" y="165.0156"/><rect fill="#FFFFFF" filter="url(#f1i7v563hqk3g0)" height="30.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="831.5" y="255.7188"/><rect fill="#FFFFFF" filter="url(#f1i7v563hqk3g0)" height="30.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="831.5" y="332.6797"/><rect fill="#FFFFFF" filter="url(#f1i7v563hqk3g0)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1197" y="195.3672"/><ellipse cx="4.5" cy="73.2109" rx="4" ry="4" style="stroke:#A80036;stroke-width:1.5;fill:none;"/><polygon fill="#A80036" points="151,69.9609,161,73.9609,151,77.9609,155,73.9609" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="9" x2="157" y1="73.9609" y2="73.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="12" y="69.1045">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="125" x="23" y="69.1045">GET(.../api/posts,req)</text><polygon fill="#A80036" points="312,100.3125,322,104.3125,312,108.3125,316,104.3125" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="173" x2="318" y1="104.3125" y2="104.3125"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="180" y="99.4561">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="121" x="191" y="99.4561">getPostsByUser(req)</text><polygon fill="#A80036" points="480,130.6641,490,134.6641,480,138.6641,484,134.6641" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="334" x2="486" y1="134.6641" y2="134.6641"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="341" y="129.8076">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="128" x="352" y="129.8076">getPostsByUser(user)</text><polygon fill="#A80036" points="684.5,161.0156,694.5,165.0156,684.5,169.0156,688.5,165.0156" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="502" x2="690.5" y1="165.0156" y2="165.0156"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="509" y="160.1592">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="123" x="520" y="160.1592">findByUtilizador(user)</text><polygon fill="#A80036" points="1185,191.3672,1195,195.3672,1185,199.3672,1189,195.3672" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="706.5" x2="1191" y1="195.3672" y2="195.3672"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="713.5" y="190.5107">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="53" x="724.5" y="190.5107">find(user)</text><polygon fill="#A80036" points="819.5,251.7188,829.5,255.7188,819.5,259.7188,823.5,255.7188" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="706.5" x2="825.5" y1="255.7188" y2="255.7188"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="713.5" y="250.8623">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="95" x="724.5" y="250.8623">toDomain(posts)</text><polygon fill="#A80036" points="1331,282.0703,1341,286.0703,1331,290.0703,1335,286.0703" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="836.5" x2="1337" y1="286.0703" y2="286.0703"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="843.5" y="281.2139">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="44" x="854.5" y="281.2139">create()</text><rect fill="#FEFECE" filter="url(#f1i7v563hqk3g0)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="103" x="1343" y="263.7188"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="89" x="1350" y="285.252">newPost: Post</text><polygon fill="#A80036" points="819.5,328.6797,829.5,332.6797,819.5,336.6797,823.5,332.6797" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="502" x2="825.5" y1="332.6797" y2="332.6797"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="509" y="327.8232">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="77" x="520" y="327.8232">toDTO(posts)</text><polygon fill="#A80036" points="1448,359.0313,1458,363.0313,1448,367.0313,1452,363.0313" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="836.5" x2="1454" y1="363.0313" y2="363.0313"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="843.5" y="358.1748">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="44" x="854.5" y="358.1748">create()</text><rect fill="#FEFECE" filter="url(#f1i7v563hqk3g0)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="123" x="1460" y="340.6797"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="109" x="1467" y="362.2129">feed: IPostDTO[ ]</text><polygon fill="#A80036" points="345,405.6406,335,409.6406,345,413.6406,341,409.6406" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="339" x2="496" y1="409.6406" y2="409.6406"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="351" y="404.7842">10</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="83" x="369" y="404.7842">Success(feed)</text><polygon fill="#A80036" points="184,435.9922,174,439.9922,184,443.9922,180,439.9922" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="178" x2="328" y1="439.9922" y2="439.9922"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="190" y="435.1357">11</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="83" x="208" y="435.1357">Success(feed)</text><polygon fill="#A80036" points="11,466.3438,1,470.3438,11,474.3438,7,470.3438" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="5" x2="167" y1="470.3438" y2="470.3438"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="17" y="465.4873">12</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="83" x="35" y="465.4873">Success(feed)</text><!--MD5=[9869532bfefdf4f85d6b6b031c74906d]
@startuml

autonumber

participant ":PostRoute" as R
participant ":PostController" as CTRL
participant ":PostService" as SERV
participant "post:Post" as P
participant ":PostRepository" as REPO
participant ":PostMap" as MAP
participant "postPer:IPostPersistence" as PP
participant ":Model<IPostPersistence & Document>" as MPP
participant "newPost: Post" as NP
participant "feed: IPostDTO[ ]" as DTO

?o->R : GET(.../api/posts,req)
activate R
    R->CTRL: getPostsByUser(req)
    activate CTRL
        CTRL->SERV: getPostsByUser(user)
        activate SERV           
            SERV-> REPO: findByUtilizador(user)
            activate REPO                
                REPO->MPP: find(user)
                activate MPP
                deactivate MPP
                REPO->MAP: toDomain(posts)
                activate MAP
                    MAP->NP**: create()
                deactivate MAP  
            deactivate REPO
            SERV-> MAP: toDTO(posts)
            activate MAP
                MAP-> DTO**: create()
            deactivate MAP
            SERV- -> CTRL : Success(feed)
        deactivate SERV
        CTRL- ->R: Success(feed)
    deactivate CTRL
    <- -R: Success(feed)
deactivate R
@enduml

PlantUML version 1.2021.11(Sat Oct 02 14:26:11 BST 2021)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: Dynamic Code Evolution 64-Bit Server VM
Default Encoding: Cp1252
Language: pt
Country: PT
--></g></svg>