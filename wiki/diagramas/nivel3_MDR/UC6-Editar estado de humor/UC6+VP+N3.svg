<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="490px" preserveAspectRatio="none" style="width:1334px;height:490px;background:#FFFFFF;" version="1.1" viewBox="0 0 1334 490" width="1334px" zoomAndPan="magnify"><defs><filter height="300%" id="f1j11oggj496e0" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#f1j11oggj496e0)" height="350.0703" style="stroke:#A80036;stroke-width:1.0;" width="10" x="212" y="69.2188"/><rect fill="#FFFFFF" filter="url(#f1j11oggj496e0)" height="327.7188" style="stroke:#A80036;stroke-width:1.0;" width="10" x="379.5" y="91.5703"/><rect fill="#FFFFFF" filter="url(#f1j11oggj496e0)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="611.5" y="212.625"/><rect fill="#FFFFFF" filter="url(#f1j11oggj496e0)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="762" y="152.2734"/><rect fill="#FFFFFF" filter="url(#f1j11oggj496e0)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1078.5" y="272.9766"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="216.5" x2="216.5" y1="59.2188" y2="428.2891"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="384.5" x2="384.5" y1="59.2188" y2="428.2891"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="616.5" x2="616.5" y1="59.2188" y2="428.2891"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="766.5" x2="766.5" y1="59.2188" y2="428.2891"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="945.5" x2="945.5" y1="59.2188" y2="428.2891"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1083.5" x2="1083.5" y1="59.2188" y2="428.2891"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1232.5" x2="1232.5" y1="344.2813" y2="428.2891"/><rect fill="#FEFECE" filter="url(#f1j11oggj496e0)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="161" x="134.5" y="22.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="147" x="141.5" y="44.1426">EstadoHumorController</text><rect fill="#FEFECE" filter="url(#f1j11oggj496e0)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="161" x="134.5" y="427.2891"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="147" x="141.5" y="448.8223">EstadoHumorController</text><rect fill="#FEFECE" filter="url(#f1j11oggj496e0)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="146" x="309.5" y="22.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="132" x="316.5" y="44.1426">EstadoHumorService</text><rect fill="#FEFECE" filter="url(#f1j11oggj496e0)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="146" x="309.5" y="427.2891"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="132" x="316.5" y="448.8223">EstadoHumorService</text><rect fill="#FEFECE" filter="url(#f1j11oggj496e0)" height="49.2188" style="stroke:#A80036;stroke-width:1.5;" width="102" x="563.5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="88" x="570.5" y="26.5332">estadoHumor:</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="85" x="572" y="44.1426">EstadoHumor</text><rect fill="#FEFECE" filter="url(#f1j11oggj496e0)" height="49.2188" style="stroke:#A80036;stroke-width:1.5;" width="102" x="563.5" y="427.2891"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="88" x="570.5" y="448.8223">estadoHumor:</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="85" x="572" y="466.4316">EstadoHumor</text><rect fill="#FEFECE" filter="url(#f1j11oggj496e0)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="171" x="679.5" y="22.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="157" x="686.5" y="44.1426">:EstadoHumorRepository</text><rect fill="#FEFECE" filter="url(#f1j11oggj496e0)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="171" x="679.5" y="427.2891"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="157" x="686.5" y="448.8223">:EstadoHumorRepository</text><rect fill="#FEFECE" filter="url(#f1j11oggj496e0)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="158" x="864.5" y="22.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="144" x="871.5" y="44.1426">:DbSet&lt;EstadoHumor&gt;</text><rect fill="#FEFECE" filter="url(#f1j11oggj496e0)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="158" x="864.5" y="427.2891"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="144" x="871.5" y="448.8223">:DbSet&lt;EstadoHumor&gt;</text><rect fill="#FEFECE" filter="url(#f1j11oggj496e0)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="90" x="1036.5" y="22.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="76" x="1043.5" y="44.1426">:UnitOfWork</text><rect fill="#FEFECE" filter="url(#f1j11oggj496e0)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="90" x="1036.5" y="427.2891"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="76" x="1043.5" y="448.8223">:UnitOfWork</text><rect fill="#FEFECE" filter="url(#f1j11oggj496e0)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="180" x="1140.5" y="427.2891"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="166" x="1147.5" y="448.8223">newDTO:EstadoHumorDto</text><rect fill="#FFFFFF" filter="url(#f1j11oggj496e0)" height="350.0703" style="stroke:#A80036;stroke-width:1.0;" width="10" x="212" y="69.2188"/><rect fill="#FFFFFF" filter="url(#f1j11oggj496e0)" height="327.7188" style="stroke:#A80036;stroke-width:1.0;" width="10" x="379.5" y="91.5703"/><rect fill="#FFFFFF" filter="url(#f1j11oggj496e0)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="611.5" y="212.625"/><rect fill="#FFFFFF" filter="url(#f1j11oggj496e0)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="762" y="152.2734"/><rect fill="#FFFFFF" filter="url(#f1j11oggj496e0)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1078.5" y="272.9766"/><ellipse cx="4.5" cy="90.8203" rx="4" ry="4" style="stroke:#A80036;stroke-width:1.5;fill:none;"/><polygon fill="#A80036" points="200,87.5703,210,91.5703,200,95.5703,204,91.5703" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="9" x2="206" y1="91.5703" y2="91.5703"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="12" y="86.7139">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="174" x="23" y="86.7139">PUT(.../api/estadoshumor,dto)</text><polygon fill="#A80036" points="367.5,117.9219,377.5,121.9219,367.5,125.9219,371.5,121.9219" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="222" x2="373.5" y1="121.9219" y2="121.9219"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="229" y="117.0654">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="86" x="240" y="117.0654">AddAsync(dto)</text><polygon fill="#A80036" points="750,148.2734,760,152.2734,750,156.2734,754,152.2734" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="389.5" x2="756" y1="152.2734" y2="152.2734"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="396.5" y="147.417">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="209" x="407.5" y="147.417">estadoHumor=GetByIdAsync(dto.Id)</text><polygon fill="#A80036" points="599.5,208.625,609.5,212.625,599.5,216.625,603.5,212.625" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="389.5" x2="605.5" y1="212.625" y2="212.625"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="396.5" y="207.7686">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="192" x="407.5" y="207.7686">changeEstadoHumor(dto.Estado)</text><polygon fill="#A80036" points="1066.5,268.9766,1076.5,272.9766,1066.5,276.9766,1070.5,272.9766" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="389.5" x2="1072.5" y1="272.9766" y2="272.9766"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="396.5" y="268.1201">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="90" x="407.5" y="268.1201">CommitAsync()</text><polygon fill="#A80036" points="1128.5,329.3281,1138.5,333.3281,1128.5,337.3281,1132.5,333.3281" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="389.5" x2="1134.5" y1="333.3281" y2="333.3281"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="396.5" y="328.4717">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="589" x="407.5" y="328.4717">create(estadoHumor.Id.AsGuid(),estadoHumor.Estado.ToString(),estado.DataEstadoHumor.ToString())</text><rect fill="#FEFECE" filter="url(#f1j11oggj496e0)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="180" x="1140.5" y="310.9766"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="166" x="1147.5" y="332.5098">newDTO:EstadoHumorDto</text><polygon fill="#A80036" points="233,375.9375,223,379.9375,233,383.9375,229,379.9375" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="227" x2="378.5" y1="379.9375" y2="379.9375"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="239" y="375.0811">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="108" x="250" y="375.0811">Success(newDTO)</text><polygon fill="#A80036" points="11,406.2891,1,410.2891,11,414.2891,7,410.2891" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="5" x2="211" y1="410.2891" y2="410.2891"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="17" y="405.4326">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="0" x="32" y="405.4326"/><!--MD5=[ffeaa8ac20471baa60aa5dfe24d7cd4d]
@startuml

autonumber

participant "EstadoHumorController" as controller
participant "EstadoHumorService" as service
participant "estadoHumor:\nEstadoHumor" as estadoHumor
participant ":EstadoHumorRepository" as rep
participant ":DbSet<EstadoHumor>" as db
participant ":UnitOfWork" as u
participant "newDTO:EstadoHumorDto" as dto

activate controller

?o->controller : PUT(.../api/estadoshumor,dto)

activate service
controller->service: AddAsync(dto)


service->rep:estadoHumor=GetByIdAsync(dto.Id)
activate rep
deactivate rep

service->estadoHumor:changeEstadoHumor(dto.Estado)

activate estadoHumor
deactivate estadoHumor

service->u : CommitAsync()
activate u
deactivate u
service->dto**:create(estadoHumor.Id.AsGuid(),estadoHumor.Estado.ToString(),estado.DataEstadoHumor.ToString())

service- ->controller:Success(newDTO)

<- -controller


@enduml

PlantUML version 1.2021.11(Sat Oct 02 14:26:11 BST 2021)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: Dynamic Code Evolution 64-Bit Server VM
Default Encoding: Cp1252
Language: pt
Country: PT
--></g></svg>